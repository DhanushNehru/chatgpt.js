window.starColor="white",window.starVelocity={x:0,y:0,tx:0,ty:0,z:5e-4};const e=6,i=2.5e-10,a=50,o=(window.innerWidth+window.innerHeight)/(-1<navigator.userAgent.indexOf("Firefox")?18:11),t=document.querySelector("canvas"),r=t.getContext("2d");let w=.5,n=[],d,l,y,c,s=!1;for(let t=0;t<o;t++)n.push({x:0,y:0,z:i+Math.random()*(1-i)});function h(){d=window.innerWidth*w,l=window.innerHeight*w,t.width=d,t.height=l,n.forEach(t=>{t.x=Math.random()*d,t.y=Math.random()*l})}function x(){r.clearRect(0,0,d,l),window.starVelocity.tx*=.86,window.starVelocity.ty*=.86,window.starVelocity.x+=.8*(window.starVelocity.tx-window.starVelocity.x),window.starVelocity.y+=.8*(window.starVelocity.ty-window.starVelocity.y),n.forEach(t=>{if(t.x+=window.starVelocity.x*t.z,t.y+=window.starVelocity.y*t.z,t.x+=(t.x-d/2)*window.starVelocity.z*t.z,t.y+=(t.y-l/2)*window.starVelocity.z*t.z,t.z+=window.starVelocity.z,t.x<-a||t.x>d+a||t.y<-a||t.y>l+a){let o="z",n=Math.abs(window.starVelocity.x),e=Math.abs(window.starVelocity.y);if(1<n||1<e){let t;t=e<n?Math.random()<n/(n+e)?"h":"v":Math.random()<e/(n+e)?"v":"h",o="h"===t?0<window.starVelocity.x?"l":"r":0<window.starVelocity.y?"t":"b"}t.z=i+Math.random()*(1-i),"z"===o?(t.z=.1,t.x=Math.random()*d,t.y=Math.random()*l):"l"===o?(t.x=-a,t.y=l*Math.random()):"r"===o?(t.x=d+a,t.y=l*Math.random()):"t"===o?(t.x=d*Math.random(),t.y=-a):"b"===o&&(t.x=d*Math.random(),t.y=l+a)}}),n.forEach(t=>{r.beginPath(),r.lineCap="round",r.lineWidth=e*t.z*w,r.globalAlpha=.5+.5*Math.random(),r.strokeStyle=window.starColor,r.beginPath(),r.moveTo(t.x,t.y);let o=2*window.starVelocity.x,n=2*window.starVelocity.y;Math.abs(o)<.1&&(o=.5),Math.abs(n)<.1&&(n=.5),r.lineTo(t.x+o,t.y+n),r.stroke()}),requestAnimationFrame(x)}function m(t,o){var n,e;"number"==typeof y&&"number"==typeof c&&(n=t-y,e=o-c,window.starVelocity.tx=window.starVelocity.tx+n/8*w*(s?1:-1),window.starVelocity.ty=window.starVelocity.ty+e/8*w*(s?1:-1)),y=t,c=o}h(),x(),window.onresize=h,document.onmousemove=t=>{s=!1,m(t.clientX,t.clientY)},document.ontouchmove=t=>{s=!0,m(t.touches[0].clientX,t.touches[0].clientY),t.preventDefault()},document.ontouchend=()=>{y=null,c=null},document.onmouseleave=()=>{y=null,c=null};