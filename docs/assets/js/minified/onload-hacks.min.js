const taglineWords=[],features=[">>  Feature-rich",">>  Object-oriented",">>  Easy-to-use",">>  Lightweight (yet optimally performant)"],visibilityMap=[],sectionColors=["#64ffff","#f9ee16","lime","orange","#b981f9","#f581f9","#81f9c3"],animateElements=[],mdLoaded=new Promise(r=>{new MutationObserver((e,t)=>{document.querySelector("article div")&&(t.disconnect(),r())}).observe(document.body,{childList:!0,subtree:!0})}),iObserver=new IntersectionObserver(e=>{e.forEach(e=>{var t=e.target.id||e.target.className;visibilityMap[t]=e.isIntersecting,"cover-main"===e.target.className?e.isIntersecting?(document.querySelector("#kudoai a").style.color="white",window.starColor="white",Array.from(document.querySelectorAll('span[id^="tagline"]')).forEach(e=>{e.textContent=""}),scrambleText([taglineWords[0]],document.querySelector("#tagline-pre-adj")),scrambleText(taglineWords[1],document.querySelector("#tagline-adj"),750),scrambleText([taglineWords[2]],document.querySelector("#tagline-post-adj")),randomizeCase(document.querySelector("#tagline-pre-adj")),randomizeCase(document.querySelector("#tagline-post-adj"))):clearTimeout(scrambleText.timeoutID):"feature-list"===e.target.id&&(e.isIntersecting?typeText(features,e.target,20):(e.target.innerHTML="",clearTimeout(typeText.timeoutID)))})}),onLoadObserver=new MutationObserver(()=>{if(document.querySelector(".cover-main blockquote p")){if(smoothScroll(document,155,9),/#\/(\w{2}(-\w{2})?\/)?$/.test(location.hash)){isMobileDevice()||(document.body.className="ready close");const a=document.querySelector(".kudo");a.classList.add("hover"),setTimeout(()=>{a.classList.remove("hover")},1e3);var e=Array.from(document.querySelectorAll('span[id^="tagline"]'));e.map(e=>{taglineWords.push(/pre|post/.exec(e.id)?e.textContent:e.textContent.split("|"))}),e.forEach(e=>{e.textContent=""}),iObserver.observe(document.querySelector(".cover-main"));const o=document.querySelector(".cover"),t=document.createElement("div");function r(){t.style.display=window.scrollY>.85*o.offsetHeight?"":"none"}t.classList.add("top-gradient"),document.body.appendChild(t),r();const n=document.querySelector(".cover-main");window.addEventListener("scroll",()=>{r();var e=o.getBoundingClientRect(),t=1-Math.abs(e.top)/o.offsetHeight,e=-.35*e.top;o.style.opacity=t,n.style.transform=`translateY(${e}px)`}),mdLoaded.then(()=>{var e=document.querySelector("#feature-list")||document.createElement("div");e.parentElement||(e.setAttribute("id","feature-list"),(i=document.querySelector("#intro")).parentElement.insertBefore(e,i.nextElementSibling.nextElementSibling)),iObserver.observe(e),animateElements.push(...document.querySelectorAll(".cover-main img, .cover-main a")),animateElements.push(...document.querySelectorAll("h2, h3, p, pre, li")),animateElements.forEach(e=>{e.classList.add("content-fadeup")});const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?e.target.classList.add("visible"):e.target.classList.remove("visible")})},{root:null,threshold:.02}),r=(animateElements.forEach(e=>{t.observe(e)}),[]),n=[],o=(r.push(...document.querySelectorAll("h2")),r.push(document.querySelector("h3#-greasemonkey")),r.push(document.querySelector("h3#-chrome")),r.push(document.querySelector('img[src*="chatgpt-infinity"]')),r.forEach(e=>{var t=e.getBoundingClientRect().top,e=e.id.includes("⚡")?1.5:"IMG"===e.tagName?.8:8.8;n.push(t-window.innerHeight/e)}),n.sort((e,t)=>e-t),window.addEventListener("scroll",()=>{if(!visibilityMap["cover-main"]&&!visibilityMap["feature-list"]){let e=0;for(;window.scrollY>n[e]&&e<n.length;)e++;var t=sectionColors[e-2];if(t!==window.starColor){const r=1600,o=document.querySelector("#kudoai a");o.style.color=t,a.classList.add("hover"),window.starColor=t,setTimeout(()=>{window.starVelocity.z<=5e-4&&(o.style.color="white",a.classList.remove("hover"))},5+r),setTimeout(()=>{window.starVelocity.z<=5e-4&&(window.starColor="white")},1615),window.starVelocity.z+=.0045,setTimeout(()=>{window.starVelocity.z-=.0025},1400),setTimeout(()=>{window.starVelocity.z-=.002},r)}}}),setTimeout(()=>{var e=document.querySelector(".active").innerText;document.getElementById("dropdown-button").innerText=e},15),document.querySelectorAll("picture").forEach(e=>{var t=e.querySelector("source").getAttribute("srcset"),r=document.createElement("img");r.setAttribute("src",t),e.parentNode.replaceChild(r,e)}),document.createElement("div"));fetch("assets/html/footer.html").then(e=>e.text()).then(e=>{o.innerHTML=e;e=document.querySelector("article");e.insertBefore(o,e.lastElementChild)});var i=document.querySelector('p a[href="#"]');i.previousSibling.remove(),i.remove()})}else document.querySelector(".app-nav").style.display="none";/LICENSE|SECURITY/.test(location.hash)&&(isMobileDevice()||(document.body.className="ready close"),mdLoaded.then(()=>{for(const e of document.querySelectorAll("h5 a"))e.href=e.href.replace(/(.*\/\/.*?\/)((\w{2}(-\w{2})?\/)?.*)\.md/,"$1#/$2")})),onLoadObserver.disconnect()}});function isMobileDevice(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function validateIntArg(e,t,r){if(void 0===e)return r;if(Number.isInteger(e)&&/^\d+$/.test(e))return parseInt(e,10);throw new Error(t+" must be an integer.")}function smoothScroll(t,r,o){t===document&&(t=document.scrollingElement||document.documentElement||document.body.parentNode||document.body);let n=!1,i=t.scrollTop;const a=t===document.body&&document.documentElement?document.documentElement:t;function e(e){e.preventDefault();e=(e=e).detail?e.wheelDelta?e.wheelDelta/e.detail/40*(0<e.detail?1:-1):-e.detail/3:e.wheelDelta/120;i+=-e*r,i=Math.max(0,Math.min(i,t.scrollHeight-a.clientHeight)),n||s()}function s(){n=!0;var e=(i-t.scrollTop)/o;t.scrollTop+=e,.5<Math.abs(e)?l(s):n=!1}t.addEventListener("mousewheel",e,{passive:!1}),t.addEventListener("DOMMouseScroll",e,{passive:!1});const l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,20)}}function scrambleText(e,t,r,o=0){if("string"==typeof e&&(e=[e]),!t?.nodeName)throw new Error("Destination (2nd arg) must be a DOM element");if(r){if(!Number.isInteger(r)||!/^\d+$/.test(r))throw new Error("Delay betweeen words (3nd arg) must be an integer (ms)");r=parseInt(r,10)}new Scramble(t).setText(e[o]).then(()=>{r&&visibilityMap["cover-main"]&&(scrambleText.timeoutID=setTimeout(()=>{scrambleText(e,t,r,(o+1)%e.length)},r))})}function randomizeCase(e,t,r,o,n,i){if(!e?.nodeName)throw new Error("Target node (1st arg) must be a DOM element");t=validateIntArg(t,"Initial delay",5),r=validateIntArg(r,"Final delay",1e3),o=validateIntArg(o,"Increment A",10),n=validateIntArg(n,"Increment B",111),i=validateIntArg(i,"Inflection point",265),e.textContent=e.textContent.split("").map(e=>Math.random()<.5?e.toUpperCase():e.toLowerCase()).join(""),randomizeCase.iniDelay=randomizeCase.iniDelay||t,randomizeCase.iniDelay+=randomizeCase.iniDelay<i?o:n,randomizeCase.iniDelay>r&&(randomizeCase.iniDelay=r),setTimeout(()=>{randomizeCase(e,t,r,o,n,i)},randomizeCase.iniDelay)}function typeText(e,t,r,o,n,i){if("string"==typeof e&&(e=[e]),!t?.nodeName)throw new Error("Destination must be a DOM element");r=validateIntArg(r,"Typing delay",30),o=validateIntArg(o,"Initial text array index",0),n=validateIntArg(n,"Initial text string position",3),i=validateIntArg(i,"Lines to scroll at",5);let a=" ",s=Math.max(0,o-i);for(;s<o;)a+=e[s++]+"<br /><br />";t.innerHTML=a+e[o].substring(0,n)+"_",n++==e[o].length?(n=0,++o!=e.length&&(typeText.timeoutID=setTimeout(()=>{typeText(e,t,r,o,n)},88))):typeText.timeoutID=setTimeout(()=>{typeText(e,t,r,o,n)},r+220*Math.random()-110)}class Scramble{constructor(e){this.el=e,this.chars="!<>-_\\/[]{}—=+*^?#________",this.update=this.update.bind(this)}setText(t){var r=this.el.innerText,o=Math.max(r.length,t.length),e=new Promise(e=>this.resolve=e);this.queue=[];for(let e=0;e<o;e++){var n=r[e]||"",i=t[e]||"",a=Math.floor(45*Math.random()),s=a+Math.floor(45*Math.random());this.queue.push({from:n,to:i,start:a,end:s})}return cancelAnimationFrame(this.frameRequest),this.frame=0,this.update(),e}update(){let a="",s=0;for(let i=0,e=this.queue.length;i<e;i++){let{from:e,to:t,start:r,end:o,char:n}=this.queue[i];this.frame>=o?(s++,a+=t):this.frame>=r?((!n||Math.random()<.28)&&(n=this.randomChar(),this.queue[i].char=n),a+=`<span class="dud">${n}</span>`):a+=e}this.el.innerHTML=a,s===this.queue.length?this.resolve():(this.frameRequest=requestAnimationFrame(this.update),this.frame++)}randomChar(){return this.chars[Math.floor(Math.random()*this.chars.length)]}}onLoadObserver.observe(document.body,{childList:!0,subtree:!0});let fromUnhashedURL=window.location.href.includes("#");window.addEventListener("hashchange",()=>{fromUnhashedURL?fromUnhashedURL&&onLoadObserver.observe(document.body,{childList:!0,subtree:!0}):fromUnhashedURL=!0});